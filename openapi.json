{"openapi":"3.1.0","info":{"title":"Karaoke Sub Tool","description":"Professional karaoke subtitle generator from audio files","version":"3.2.0"},"paths":{"/api/health":{"get":{"tags":["api"],"summary":"Health","operationId":"health_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/media-queue":{"get":{"tags":["api"],"summary":"Media Queue Status","description":"Return current media executor status (concurrency, queued/running jobs).","operationId":"media_queue_status_api_media_queue_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/presets":{"get":{"tags":["api"],"summary":"List Presets","operationId":"list_presets_api_presets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/events":{"get":{"tags":["api"],"summary":"Sse Events","operationId":"sse_events_api_events_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/upload":{"post":{"tags":["api"],"summary":"Upload File","operationId":"upload_file_api_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files":{"get":{"tags":["api"],"summary":"List Uploaded Files","operationId":"list_uploaded_files_api_files_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/files/{filename}":{"delete":{"tags":["api"],"summary":"Delete File","operationId":"delete_file_api_files__filename__delete","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/files/{filename}/probe":{"get":{"tags":["api"],"summary":"Probe Audio File","operationId":"probe_audio_file_api_files__filename__probe_get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioProbeInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/transcribe":{"post":{"tags":["api"],"summary":"Start Transcription","operationId":"start_transcription_api_transcribe_post","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"lyrics_file","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lyrics File"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscribeRequest","default":{"backend":"voxtral","language":"auto","vad":true,"vad_aggressiveness":2,"normalize":true,"target_lufs":-16.0,"vocal_isolation":false,"vocal_device":"cpu","word_timestamps":"auto","generate_ass":true,"generate_vtt":false,"generate_lrc":false,"generate_txt":false,"karaoke_mode":"kf","preset":"classic","highlight_color":"&H0000FFFF","safe_area":"","snap_to_beat":false,"ai_correct":false,"cps":18.0,"min_duration":1.0,"max_duration":6.0,"max_chars_per_line":42,"max_lines":2,"generate_preview":false,"preview_duration":"15s","preview_start":"0s","preview_resolution":"1920x1080","whisperx_model_size":"large-v3","use_lyrics_template":false,"lyrics_template_mode":"lyrics_source_of_truth","lyrics_mode":"line_per_event","match_mode":"lenient","preserve_empty_lines":false,"approx_karaoke":"auto","whisperx_compute_type":"float16","whisperx_batch_size":16}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/transcribe/batch":{"post":{"tags":["api"],"summary":"Batch Transcribe","operationId":"batch_transcribe_api_transcribe_batch_post","parameters":[{"name":"filenames","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"},"title":"Filenames"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscribeRequest","default":{"backend":"voxtral","language":"auto","vad":true,"vad_aggressiveness":2,"normalize":true,"target_lufs":-16.0,"vocal_isolation":false,"vocal_device":"cpu","word_timestamps":"auto","generate_ass":true,"generate_vtt":false,"generate_lrc":false,"generate_txt":false,"karaoke_mode":"kf","preset":"classic","highlight_color":"&H0000FFFF","safe_area":"","snap_to_beat":false,"ai_correct":false,"cps":18.0,"min_duration":1.0,"max_duration":6.0,"max_chars_per_line":42,"max_lines":2,"generate_preview":false,"preview_duration":"15s","preview_start":"0s","preview_resolution":"1920x1080","whisperx_model_size":"large-v3","use_lyrics_template":false,"lyrics_template_mode":"lyrics_source_of_truth","lyrics_mode":"line_per_event","match_mode":"lenient","preserve_empty_lines":false,"approx_karaoke":"auto","whisperx_compute_type":"float16","whisperx_batch_size":16}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/transcribe/upload":{"post":{"tags":["api"],"summary":"Transcribe With Upload","operationId":"transcribe_with_upload_api_transcribe_upload_post","parameters":[{"name":"backend","in":"query","required":false,"schema":{"type":"string","default":"voxtral","title":"Backend"}},{"name":"language","in":"query","required":false,"schema":{"type":"string","default":"auto","title":"Language"}},{"name":"generate_ass","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Generate Ass"}},{"name":"karaoke_mode","in":"query","required":false,"schema":{"type":"string","default":"kf","title":"Karaoke Mode"}},{"name":"preset","in":"query","required":false,"schema":{"type":"string","default":"classic","title":"Preset"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_transcribe_with_upload_api_transcribe_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/refine":{"post":{"tags":["api"],"summary":"Start Refine","operationId":"start_refine_api_refine_post","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefineRequest","default":{"cps":18.0,"min_duration":1.0,"max_duration":6.0,"max_chars_per_line":42,"max_lines":2,"snap_to_beat":false}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/export":{"post":{"tags":["api"],"summary":"Start Export","operationId":"start_export_api_export_post","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportRequest","default":{"karaoke_mode":"kf","preset":"classic","highlight_color":"&H0000FFFF","safe_area":"","approx_karaoke":true,"formats":["srt","ass"]}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs":{"get":{"tags":["api"],"summary":"List Jobs","operationId":"list_jobs_api_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/JobInfo"},"type":"array","title":"Response List Jobs Api Jobs Get"}}}}}}},"/api/jobs/{job_id}":{"get":{"tags":["api"],"summary":"Get Job","operationId":"get_job_api_jobs__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["api"],"summary":"Delete Job","operationId":"delete_job_api_jobs__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/cancel":{"post":{"tags":["api"],"summary":"Cancel Job","description":"Cancel a running job.","operationId":"cancel_job_api_jobs__job_id__cancel_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/files":{"get":{"tags":["api"],"summary":"List Job Files","description":"List available files in a job output directory (works without in-memory job).","operationId":"list_job_files_api_jobs__job_id__files_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/download/{filename}":{"get":{"tags":["api"],"summary":"Download Result","operationId":"download_result_api_jobs__job_id__download__filename__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/content/{filename}":{"get":{"tags":["api"],"summary":"Get File Content","operationId":"get_file_content_api_jobs__job_id__content__filename__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments":{"get":{"tags":["api"],"summary":"Get Segments","operationId":"get_segments_api_jobs__job_id__segments_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["api"],"summary":"Update Segment","operationId":"update_segment_api_jobs__job_id__segments_put","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SegmentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/split":{"post":{"tags":["api"],"summary":"Split Segment","operationId":"split_segment_api_jobs__job_id__segments_split_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SegmentSplit"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/merge":{"post":{"tags":["api"],"summary":"Merge Segments","operationId":"merge_segments_api_jobs__job_id__segments_merge_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SegmentMerge"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/reorder":{"post":{"tags":["api"],"summary":"Reorder Segment","operationId":"reorder_segment_api_jobs__job_id__segments_reorder_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SegmentReorder"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/bulk":{"put":{"tags":["api"],"summary":"Bulk Replace Segments","description":"Replace the entire segments array (for add/delete/reorder operations).","operationId":"bulk_replace_segments_api_jobs__job_id__segments_bulk_put","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Segments"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/time-shift":{"post":{"tags":["api"],"summary":"Time Shift Segments","operationId":"time_shift_segments_api_jobs__job_id__segments_time_shift_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimeShift"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/search-replace":{"post":{"tags":["api"],"summary":"Search Replace Segments","operationId":"search_replace_segments_api_jobs__job_id__segments_search_replace_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchReplace"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/dictionary":{"get":{"tags":["api"],"summary":"Get Dictionary","description":"Get custom word replacements.","operationId":"get_dictionary_api_dictionary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"put":{"tags":["api"],"summary":"Update Dictionary","description":"Replace the entire custom dictionary.","operationId":"update_dictionary_api_dictionary_put","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DictionaryEntry"},"type":"array","title":"Entries"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/apply-dictionary":{"post":{"tags":["api"],"summary":"Apply Dictionary","description":"Apply custom_words.txt replacements to segments.","operationId":"apply_dictionary_api_jobs__job_id__apply_dictionary_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/gaps-overlaps":{"get":{"tags":["api"],"summary":"Detect Gaps Overlaps","operationId":"detect_gaps_overlaps_api_jobs__job_id__gaps_overlaps_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"min_gap_ms","in":"query","required":false,"schema":{"type":"number","default":100,"title":"Min Gap Ms"}},{"name":"min_overlap_ms","in":"query","required":false,"schema":{"type":"number","default":0,"title":"Min Overlap Ms"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GapOverlap"},"title":"Response Detect Gaps Overlaps Api Jobs  Job Id  Gaps Overlaps Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/fix-gaps":{"post":{"tags":["api"],"summary":"Fix Gaps","description":"Auto-fix gaps: extend=extend previous, shrink=shrink gap, split=split difference.","operationId":"fix_gaps_api_jobs__job_id__fix_gaps_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"strategy","in":"query","required":false,"schema":{"type":"string","pattern":"^(extend|shrink|split)$","default":"extend","title":"Strategy"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/speakers":{"get":{"tags":["api"],"summary":"Get Speakers","operationId":"get_speakers_api_jobs__job_id__speakers_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/speakers/assign":{"post":{"tags":["api"],"summary":"Assign Speaker","operationId":"assign_speaker_api_jobs__job_id__speakers_assign_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"indices","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer"},"title":"Indices"}},{"name":"speaker","in":"query","required":true,"schema":{"type":"string","title":"Speaker"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/toggle-pin":{"post":{"tags":["api"],"summary":"Toggle Pin","operationId":"toggle_pin_api_jobs__job_id__segments_toggle_pin_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"index","in":"query","required":true,"schema":{"type":"integer","title":"Index"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/translate":{"post":{"tags":["api"],"summary":"Translate Segments","description":"Translate all segments — creates a parallel segments_<lang>.json.","operationId":"translate_segments_api_jobs__job_id__translate_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranslateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/project-export":{"get":{"tags":["api"],"summary":"Export Project","description":"Export full project state as JSON for backup/sharing.","operationId":"export_project_api_jobs__job_id__project_export_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/download-zip":{"get":{"tags":["api"],"summary":"Download Job Zip","description":"Download entire job output folder as a ZIP file.","operationId":"download_job_zip_api_jobs__job_id__download_zip_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/project-import":{"post":{"tags":["api"],"summary":"Import Project","description":"Import project state from JSON.","operationId":"import_project_api_jobs__job_id__project_import_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_project_api_jobs__job_id__project_import_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/undo":{"post":{"tags":["api"],"summary":"Undo Action","operationId":"undo_action_api_jobs__job_id__undo_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/redo":{"post":{"tags":["api"],"summary":"Redo Action","operationId":"redo_action_api_jobs__job_id__redo_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/regenerate-ass":{"post":{"tags":["api"],"summary":"Regenerate Ass","operationId":"regenerate_ass_api_jobs__job_id__regenerate_ass_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportRequest","default":{"karaoke_mode":"kf","preset":"classic","highlight_color":"&H0000FFFF","safe_area":"","approx_karaoke":true,"formats":["srt","ass"]}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/stats":{"get":{"tags":["api"],"summary":"Get Job Stats","operationId":"get_job_stats_api_jobs__job_id__stats_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/waveform":{"get":{"tags":["api"],"summary":"Get Waveform","operationId":"get_waveform_api_jobs__job_id__waveform_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/report":{"get":{"tags":["api"],"summary":"Get Report","operationId":"get_report_api_jobs__job_id__report_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/bpm-params":{"get":{"tags":["api"],"summary":"Get Bpm Subtitle Params","description":"Calculate recommended CPS/MaxChars/Duration from BPM + format.","operationId":"get_bpm_subtitle_params_api_bpm_params_get","parameters":[{"name":"bpm","in":"query","required":true,"schema":{"type":"number","title":"Bpm"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"ass","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/detect-bpm":{"post":{"tags":["api"],"summary":"Detect Bpm For Job","description":"Detect BPM from the job's audio file and return subtitle params.","operationId":"detect_bpm_for_job_api_jobs__job_id__detect_bpm_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/rhyme":{"get":{"tags":["api"],"summary":"Get Rhyme Scheme","description":"Analyze rhyme patterns in transcribed segments.","operationId":"get_rhyme_scheme_api_jobs__job_id__rhyme_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"window","in":"query","required":false,"schema":{"type":"integer","default":8,"title":"Window"}},{"name":"threshold","in":"query","required":false,"schema":{"type":"number","default":0.6,"title":"Threshold"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/auto-fix-cps":{"post":{"tags":["api"],"summary":"Auto Fix Cps Route","description":"Auto-fix all segments exceeding CPS limit.","operationId":"auto_fix_cps_route_api_jobs__job_id__auto_fix_cps_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"max_cps","in":"query","required":false,"schema":{"type":"number","default":22.0,"title":"Max Cps"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/karaoke-html":{"post":{"tags":["api"],"summary":"Export Karaoke Html Route","description":"Export standalone karaoke HTML player.","operationId":"export_karaoke_html_route_api_jobs__job_id__karaoke_html_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"theme","in":"query","required":false,"schema":{"type":"string","default":"dark","title":"Theme"}},{"name":"embed_audio","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Embed Audio"}},{"name":"font_size","in":"query","required":false,"schema":{"type":"integer","default":32,"title":"Font Size"}},{"name":"highlight_color","in":"query","required":false,"schema":{"type":"string","default":"%2300e5a0","title":"Highlight Color"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/export-presets":{"get":{"tags":["api"],"summary":"Get Export Presets","description":"List available export presets.","operationId":"get_export_presets_api_export_presets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/jobs/{job_id}/export-preset/{preset_name}":{"post":{"tags":["api"],"summary":"Apply Export Preset","description":"Apply an export preset and re-export all formats.","operationId":"apply_export_preset_api_jobs__job_id__export_preset__preset_name__post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"preset_name","in":"path","required":true,"schema":{"type":"string","title":"Preset Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/fill-gaps":{"post":{"tags":["api"],"summary":"Fill Gaps Route","description":"Fill significant timeline gaps with pause segments.","operationId":"fill_gaps_route_api_jobs__job_id__fill_gaps_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"min_gap","in":"query","required":false,"schema":{"type":"number","default":2.0,"title":"Min Gap"}},{"name":"fill_text","in":"query","required":false,"schema":{"type":"string","default":"♪","title":"Fill Text"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/redistribute-timing":{"post":{"tags":["api"],"summary":"Redistribute Timing Route","description":"Redistribute segment timing evenly (fixes broken timestamps).","operationId":"redistribute_timing_route_api_jobs__job_id__redistribute_timing_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"duration","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/text-stats":{"get":{"tags":["api"],"summary":"Get Text Stats","description":"Analyze vocabulary richness, word frequency, flow score.","operationId":"get_text_stats_api_jobs__job_id__text_stats_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/remove-short":{"post":{"tags":["api"],"summary":"Remove Short Segments","description":"Remove very short or empty segments.","operationId":"remove_short_segments_api_jobs__job_id__segments_remove_short_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"min_chars","in":"query","required":false,"schema":{"type":"integer","default":2,"title":"Min Chars"}},{"name":"min_duration","in":"query","required":false,"schema":{"type":"number","default":0.3,"title":"Min Duration"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/segments/normalize-text":{"post":{"tags":["api"],"summary":"Normalize Text Route","description":"Normalize segment text: fix casing, punctuation, whitespace.","operationId":"normalize_text_route_api_jobs__job_id__segments_normalize_text_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"fix_case","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Fix Case"}},{"name":"fix_punctuation","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Fix Punctuation"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/structure":{"get":{"tags":["api"],"summary":"Get Song Structure","description":"Auto-detect song structure (Verse/Chorus/Bridge).","operationId":"get_song_structure_api_jobs__job_id__structure_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"gap_threshold","in":"query","required":false,"schema":{"type":"number","default":3.0,"title":"Gap Threshold"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/export-markers/{format}":{"post":{"tags":["api"],"summary":"Export Markers","description":"Export segment markers for video editors.\n\nFormats: resolve, premiere, youtube, ffmpeg, json","operationId":"export_markers_api_jobs__job_id__export_markers__format__post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"format","in":"path","required":true,"schema":{"type":"string","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/paste-lyrics":{"post":{"tags":["api"],"summary":"Paste Lyrics Align","description":"Paste lyrics text and align to existing segments.\n\nReplaces segment text with pasted lyrics while keeping timing.","operationId":"paste_lyrics_align_api_jobs__job_id__paste_lyrics_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","default":"","title":"Text"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/duplicates":{"get":{"tags":["api"],"summary":"Find Duplicates","description":"Find repeated/similar text passages (chorus detection).","operationId":"find_duplicates_api_jobs__job_id__duplicates_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"threshold","in":"query","required":false,"schema":{"type":"number","default":0.8,"title":"Threshold"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/snapshot":{"post":{"tags":["api"],"summary":"Save Snapshot","description":"Save current segment state as a named snapshot for comparison.","operationId":"save_snapshot_api_jobs__job_id__snapshot_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/snapshots":{"get":{"tags":["api"],"summary":"List Snapshots","description":"List saved snapshots.","operationId":"list_snapshots_api_jobs__job_id__snapshots_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{job_id}/snapshot/restore/{name}":{"post":{"tags":["api"],"summary":"Restore Snapshot","description":"Restore a saved snapshot.","operationId":"restore_snapshot_api_jobs__job_id__snapshot_restore__name__post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/separation/check":{"get":{"tags":["api"],"summary":"Check Separation","description":"Check if Demucs is available for vocal separation.","operationId":"check_separation_api_separation_check_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/separation/audio-files":{"get":{"tags":["api"],"summary":"List Audio Files","description":"List audio files in uploads directory for separation.","operationId":"list_audio_files_api_separation_audio_files_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/separation/start":{"post":{"tags":["api"],"summary":"Start Separation","description":"Start a Demucs separation job.","operationId":"start_separation_api_separation_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_start_separation_api_separation_start_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/separation/{job_id}/stems":{"get":{"tags":["api"],"summary":"Get Separation Stems","description":"Get the stems from a completed separation job.","operationId":"get_separation_stems_api_separation__job_id__stems_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/separation/{job_id}/download/{stem}":{"get":{"tags":["api"],"summary":"Download Stem","description":"Download a specific stem file from a separation job.","operationId":"download_stem_api_separation__job_id__download__stem__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"stem","in":"path","required":true,"schema":{"type":"string","title":"Stem"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/health":{"get":{"tags":["ai"],"summary":"Ai Health","description":"Check if AI is configured.","operationId":"ai_health_api_ai_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/ai/chat/{job_id}":{"get":{"tags":["ai"],"summary":"Get Chat","description":"Get chat history — newline-delimited JSON (same format as chat_app.py).","operationId":"get_chat_api_ai_chat__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["ai"],"summary":"Clear Chat","operationId":"clear_chat_api_ai_chat__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["ai"],"summary":"Post Chat","description":"Send a message and stream the AI response.\n\nFollows chat_app.py pattern: newline-delimited JSON stream.","operationId":"post_chat_api_ai_chat__job_id__post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/chat/{job_id}/refcorrect":{"post":{"tags":["ai"],"summary":"Ref Correct","description":"Reference text correction — dry-run or apply.\n\nAccepts reference text as string (pasted or from uploaded file).\nIn dry-run mode (apply=False): returns planned changes.\nIn apply mode (apply=True): applies changes, logs them, syncs SRT.","operationId":"ref_correct_api_ai_chat__job_id__refcorrect_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefCorrectRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/chat/{job_id}/refcorrect/upload":{"post":{"tags":["ai"],"summary":"Ref Correct Upload","description":"Reference correction via file upload (txt/lrc).\n\nReads the uploaded file and delegates to ref_correct logic.","operationId":"ref_correct_upload_api_ai_chat__job_id__refcorrect_upload_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ref_correct_upload_api_ai_chat__job_id__refcorrect_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ai/segments/{job_id}/merge":{"post":{"tags":["ai"],"summary":"Smart Merge","description":"Smart auto-merge of short/single-word segments.\n\nDry-run (default): returns merge candidates with validation details.\nApply (dry_run=False): executes approved merges, persists, syncs SRT.","operationId":"smart_merge_api_ai_segments__job_id__merge_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MergeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/library":{"get":{"tags":["library","video"],"summary":"List Library","description":"List transcriptions with pagination + search.","operationId":"list_library_api_library_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"q","in":"query","required":false,"schema":{"type":"string","description":"Search title/filename/backend","default":"","title":"Q"},"description":"Search title/filename/backend"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LibraryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/library/{rec_id}":{"get":{"tags":["library","video"],"summary":"Get Library Item","description":"Get full transcription record including SRT/ASS text.","operationId":"get_library_item_api_library__rec_id__get","parameters":[{"name":"rec_id","in":"path","required":true,"schema":{"type":"string","title":"Rec Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LibraryDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["library","video"],"summary":"Update Library Item","description":"Update title, tags, or BPM of a library entry.","operationId":"update_library_item_api_library__rec_id__patch","parameters":[{"name":"rec_id","in":"path","required":true,"schema":{"type":"string","title":"Rec Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LibraryUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["library","video"],"summary":"Delete Library Item","description":"Delete transcription (soft by default, hard=true for permanent).\n\nCascades: removes file registry references for the associated job.","operationId":"delete_library_item_api_library__rec_id__delete","parameters":[{"name":"rec_id","in":"path","required":true,"schema":{"type":"string","title":"Rec Id"}},{"name":"hard","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Hard"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/library/{rec_id}/srt":{"get":{"tags":["library","video"],"summary":"Get Library Srt","description":"Download SRT text as file.","operationId":"get_library_srt_api_library__rec_id__srt_get","parameters":[{"name":"rec_id","in":"path","required":true,"schema":{"type":"string","title":"Rec Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/render-video":{"post":{"tags":["library","video"],"summary":"Render Video Endpoint","description":"Start a video rendering job.\n\nSubtitle source (one required):\n  - subtitle_file: upload .srt/.ass directly\n  - source_job_id: use subtitle from existing transcription job\n\nbackground_file: image (jpg/png/webp) or video (mp4/mov/webm)\naudio_file: optional audio track (or auto-found from source job)\noptions: JSON string with preset, position, crf, etc.","operationId":"render_video_endpoint_api_render_video_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_render_video_endpoint_api_render_video_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenderJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/render/{job_id}/download":{"get":{"tags":["library","video"],"summary":"Download Rendered Video","description":"Download the rendered video file.","operationId":"download_rendered_video_api_render__job_id__download_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/media":{"get":{"tags":["library","video"],"summary":"List Media Endpoint","description":"List registered media files.","operationId":"list_media_endpoint_api_media_get","parameters":[{"name":"file_type","in":"query","required":false,"schema":{"type":"string","default":"","title":"File Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/media/{media_id}":{"get":{"tags":["library","video"],"summary":"Get Media Endpoint","description":"Get media record by ID.","operationId":"get_media_endpoint_api_media__media_id__get","parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"string","title":"Media Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/media/by-filename/{filename}":{"get":{"tags":["library","video"],"summary":"Get Media By Filename Endpoint","description":"Get media record by filename (for upload response enrichment).","operationId":"get_media_by_filename_endpoint_api_media_by_filename__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/media/{media_id}/tags":{"get":{"tags":["library","video"],"summary":"Get Media Tags","description":"Read metadata tags from a media file.\n\nReturns tags dict + editable flag + supported_fields list.","operationId":"get_media_tags_api_media__media_id__tags_get","parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"string","title":"Media Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["library","video"],"summary":"Update Media Tags","description":"Write metadata tags to a media file.\n\nBody: {\"tags\": {\"title\": \"...\", \"artist\": \"...\", ...}}\nCopy-on-write: creates *_tagged.ext as new artifact.","operationId":"update_media_tags_api_media__media_id__tags_put","parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"string","title":"Media Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Req"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/file-registry":{"get":{"tags":["library","video"],"summary":"List File Registry","description":"List all files tracked in the central file registry.","operationId":"list_file_registry_api_file_registry_get","parameters":[{"name":"tool_scope","in":"query","required":false,"schema":{"type":"string","description":"Filter: karaoke, editor, both","default":"","title":"Tool Scope"},"description":"Filter: karaoke, editor, both"},{"name":"file_type","in":"query","required":false,"schema":{"type":"string","description":"Filter: original, derived, project_asset","default":"","title":"File Type"},"description":"Filter: original, derived, project_asset"},{"name":"state","in":"query","required":false,"schema":{"type":"string","description":"Filter: active, deleted, orphaned","default":"active","title":"State"},"description":"Filter: active, deleted, orphaned"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/file-registry/{file_id}":{"get":{"tags":["library","video"],"summary":"Get File Registry Item","description":"Get a file registry entry with its references.","operationId":"get_file_registry_item_api_file_registry__file_id__get","parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/file-registry/orphaned/list":{"get":{"tags":["library","video"],"summary":"List Orphaned Files","description":"Find files with no remaining references (cleanup candidates).","operationId":"list_orphaned_files_api_file_registry_orphaned_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/file-registry/cleanup":{"post":{"tags":["library","video"],"summary":"Cleanup Orphaned Files","description":"Clean up orphaned files (no references). Use dry_run=false to actually delete.","operationId":"cleanup_orphaned_files_api_file_registry_cleanup_post","parameters":[{"name":"dry_run","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Dry Run"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/loop-videos":{"get":{"tags":["editor"],"summary":"Api List Loop Videos","description":"List available loop videos, optionally filtered by project resolution.","operationId":"api_list_loop_videos_api_editor_loop_videos_get","parameters":[{"name":"width","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Width"}},{"name":"height","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Height"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/loop-videos/{folder}/{filename}":{"get":{"tags":["editor"],"summary":"Api Serve Loop Video","description":"Serve a loop video file for preview / playback.","operationId":"api_serve_loop_video_api_editor_loop_videos__folder___filename__get","parameters":[{"name":"folder","in":"path","required":true,"schema":{"type":"string","title":"Folder"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/loop-videos/{folder}/{filename}/thumb":{"get":{"tags":["editor"],"summary":"Api Loop Video Thumb","description":"Generate and serve a thumbnail for a loop video.","operationId":"api_loop_video_thumb_api_editor_loop_videos__folder___filename__thumb_get","parameters":[{"name":"folder","in":"path","required":true,"schema":{"type":"string","title":"Folder"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/import-loop-video":{"post":{"tags":["editor"],"summary":"Api Import Loop Video","description":"Import a loop video from the library into the project as asset + clip.","operationId":"api_import_loop_video_api_editor_projects__pid__import_loop_video_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_api_import_loop_video_api_editor_projects__pid__import_loop_video_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects":{"get":{"tags":["editor"],"summary":"Api List Projects","operationId":"api_list_projects_api_editor_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["editor"],"summary":"Api Create Project","operationId":"api_create_project_api_editor_projects_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_api_create_project_api_editor_projects_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}":{"get":{"tags":["editor"],"summary":"Api Get Project","operationId":"api_get_project_api_editor_projects__pid__get","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["editor"],"summary":"Api Update Project","description":"Update project properties (name, width, height, fps, crf, etc.).","operationId":"api_update_project_api_editor_projects__pid__put","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/save":{"post":{"tags":["editor"],"summary":"Api Save Project","operationId":"api_save_project_api_editor_projects__pid__save_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/saved-projects":{"get":{"tags":["editor"],"summary":"Api List Saved Projects","description":"List saved project JSON files on disk.","operationId":"api_list_saved_projects_api_editor_saved_projects_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/editor/load-project/{filename}":{"post":{"tags":["editor"],"summary":"Api Load Project","description":"Load a saved project from disk.","operationId":"api_load_project_api_editor_load_project__filename__post","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/delete-project/{filename}":{"delete":{"tags":["editor"],"summary":"Api Delete Saved Project","description":"Delete a saved project JSON file from disk (safe: path-traversal protected).","operationId":"api_delete_saved_project_api_editor_delete_project__filename__delete","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/undo":{"post":{"tags":["editor"],"summary":"Api Undo","operationId":"api_undo_api_editor_projects__pid__undo_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/redo":{"post":{"tags":["editor"],"summary":"Api Redo","operationId":"api_redo_api_editor_projects__pid__redo_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/assets":{"post":{"tags":["editor"],"summary":"Api Upload Asset","operationId":"api_upload_asset_api_editor_projects__pid__assets_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_api_upload_asset_api_editor_projects__pid__assets_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/assets/{asset_id}":{"delete":{"tags":["editor"],"summary":"Api Remove Asset","operationId":"api_remove_asset_api_editor_projects__pid__assets__asset_id__delete","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/assets/{asset_id}/thumb":{"get":{"tags":["editor"],"summary":"Api Asset Thumbnail","operationId":"api_asset_thumbnail_api_editor_projects__pid__assets__asset_id__thumb_get","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/import-job/{job_id}":{"post":{"tags":["editor"],"summary":"Api Import From Job","description":"Import audio + subtitles from a completed karaoke job.\n\nFiles are copied to editor assets dir so they survive job deletion.\nCross-references are tracked in the file registry.","operationId":"api_import_from_job_api_editor_projects__pid__import_job__job_id__post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/clips":{"post":{"tags":["editor"],"summary":"Api Add Clip","operationId":"api_add_clip_api_editor_projects__pid__clips_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_api_add_clip_api_editor_projects__pid__clips_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/clips/{clip_id}":{"put":{"tags":["editor"],"summary":"Api Update Clip","operationId":"api_update_clip_api_editor_projects__pid__clips__clip_id__put","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"clip_id","in":"path","required":true,"schema":{"type":"string","title":"Clip Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["editor"],"summary":"Api Remove Clip","operationId":"api_remove_clip_api_editor_projects__pid__clips__clip_id__delete","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"clip_id","in":"path","required":true,"schema":{"type":"string","title":"Clip Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/clips/{clip_id}/split":{"post":{"tags":["editor"],"summary":"Api Split Clip","operationId":"api_split_clip_api_editor_projects__pid__clips__clip_id__split_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"clip_id","in":"path","required":true,"schema":{"type":"string","title":"Clip Id"}},{"name":"at_time","in":"query","required":false,"schema":{"type":"number","default":0,"title":"At Time"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/clips/{clip_id}/effects":{"post":{"tags":["editor"],"summary":"Api Add Effect","operationId":"api_add_effect_api_editor_projects__pid__clips__clip_id__effects_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"clip_id","in":"path","required":true,"schema":{"type":"string","title":"Clip Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/clips/{clip_id}/effects/{idx}":{"delete":{"tags":["editor"],"summary":"Api Remove Effect","operationId":"api_remove_effect_api_editor_projects__pid__clips__clip_id__effects__idx__delete","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"clip_id","in":"path","required":true,"schema":{"type":"string","title":"Clip Id"}},{"name":"idx","in":"path","required":true,"schema":{"type":"integer","title":"Idx"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/tracks":{"post":{"tags":["editor"],"summary":"Api Add Track","description":"Add a new track (layer) to the project (+).","operationId":"api_add_track_api_editor_projects__pid__tracks_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/tracks/{track_id}":{"delete":{"tags":["editor"],"summary":"Api Remove Track","description":"Remove a track (layer) from the project (-).\n\nEmpty tracks can always be removed. Non-empty tracks require force=True\nor migrate_to_track_id to move clips to another track.","operationId":"api_remove_track_api_editor_projects__pid__tracks__track_id__delete","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Force"}},{"name":"migrate_to_track_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Migrate To Track Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["editor"],"summary":"Api Update Track","description":"Update track properties (name, index, enabled, locked, mute, solo, opacity, gain_db).","operationId":"api_update_track_api_editor_projects__pid__tracks__track_id__put","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"track_id","in":"path","required":true,"schema":{"type":"string","title":"Track Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/tracks/reorder":{"post":{"tags":["editor"],"summary":"Api Reorder Tracks","description":"Reorder tracks by providing ordered list of track IDs.","operationId":"api_reorder_tracks_api_editor_projects__pid__tracks_reorder_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/sub-settings":{"put":{"tags":["editor"],"summary":"Api Update Sub Settings","description":"Update subtitle rendering settings.","operationId":"api_update_sub_settings_api_editor_projects__pid__sub_settings_put","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"title":"Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/render":{"post":{"tags":["editor"],"summary":"Api Render Project","operationId":"api_render_project_api_editor_projects__pid__render_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/render-stream":{"post":{"tags":["editor"],"summary":"Api Render Stream","description":"Render with real-time SSE progress (percent + phase text).","operationId":"api_render_stream_api_editor_projects__pid__render_stream_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/render-loop":{"post":{"tags":["editor"],"summary":"Api Render Loop","operationId":"api_render_loop_api_editor_projects__pid__render_loop_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_api_render_loop_api_editor_projects__pid__render_loop_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/renders/{filename}":{"get":{"tags":["editor"],"summary":"Api Download Render","operationId":"api_download_render_api_editor_renders__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/assets/{asset_id}/file":{"get":{"tags":["editor"],"summary":"Api Asset File","description":"Serve the actual asset file for media playback.","operationId":"api_asset_file_api_editor_projects__pid__assets__asset_id__file_get","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}},{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/summary":{"get":{"tags":["editor"],"summary":"Api Timeline Summary","operationId":"api_timeline_summary_api_editor_projects__pid__summary_get","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/editor/projects/{pid}/ai-chat":{"post":{"tags":["editor"],"summary":"Api Editor Ai Chat","description":"AI chat with full editor access — streaming response.","operationId":"api_editor_ai_chat_api_editor_projects__pid__ai_chat_post","parameters":[{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/overlays":{"get":{"tags":["overlays"],"summary":"Api List Overlays","description":"List available overlay assets from the overlay library.","operationId":"api_list_overlays_api_overlays_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","description":"Search filter on name/filename","default":"","title":"Q"},"description":"Search filter on name/filename"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/overlays/blend-modes":{"get":{"tags":["overlays"],"summary":"Api List Blend Modes","description":"List supported blend modes for overlay items.","operationId":"api_list_blend_modes_api_overlays_blend_modes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/overlays/{overlay_id}":{"get":{"tags":["overlays"],"summary":"Api Get Overlay","description":"Get details for a single overlay asset.","operationId":"api_get_overlay_api_overlays__overlay_id__get","parameters":[{"name":"overlay_id","in":"path","required":true,"schema":{"type":"string","title":"Overlay Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/overlays/{overlay_id}/file":{"get":{"tags":["overlays"],"summary":"Api Serve Overlay File","description":"Serve the overlay video file for preview/playback.","operationId":"api_serve_overlay_file_api_overlays__overlay_id__file_get","parameters":[{"name":"overlay_id","in":"path","required":true,"schema":{"type":"string","title":"Overlay Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/overlays/{overlay_id}/import/{pid}":{"post":{"tags":["overlays"],"summary":"Api Import Overlay To Project","description":"Import an overlay from the library into an editor project as asset + clip.","operationId":"api_import_overlay_to_project_api_overlays__overlay_id__import__pid__post","parameters":[{"name":"overlay_id","in":"path","required":true,"schema":{"type":"string","title":"Overlay Id"}},{"name":"pid","in":"path","required":true,"schema":{"type":"string","title":"Pid"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_api_import_overlay_to_project_api_overlays__overlay_id__import__pid__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ApproxKaraokeEnum":{"type":"string","enum":["auto","on","off"],"title":"ApproxKaraokeEnum"},"AudioProbeInfo":{"properties":{"filename":{"type":"string","title":"Filename"},"duration":{"type":"number","title":"Duration"},"format_name":{"type":"string","title":"Format Name","default":""},"bit_rate":{"type":"integer","title":"Bit Rate","default":0},"sample_rate":{"type":"integer","title":"Sample Rate","default":0},"channels":{"type":"integer","title":"Channels","default":0},"codec":{"type":"string","title":"Codec","default":""}},"type":"object","required":["filename","duration"],"title":"AudioProbeInfo"},"BackendEnum":{"type":"string","enum":["voxtral","openai_whisper","local_whisper","whisperx"],"title":"BackendEnum"},"Body_api_add_clip_api_editor_projects__pid__clips_post":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"track":{"type":"string","title":"Track","default":"video"},"start":{"type":"number","title":"Start","default":-1},"duration":{"type":"number","title":"Duration","default":0},"loop":{"type":"boolean","title":"Loop","default":false},"volume":{"type":"number","title":"Volume","default":1.0},"speed":{"type":"number","title":"Speed","default":1.0}},"type":"object","required":["asset_id"],"title":"Body_api_add_clip_api_editor_projects__pid__clips_post"},"Body_api_create_project_api_editor_projects_post":{"properties":{"name":{"type":"string","title":"Name","default":"Untitled"},"width":{"type":"integer","title":"Width","default":1920},"height":{"type":"integer","title":"Height","default":1080},"fps":{"type":"number","title":"Fps","default":30}},"type":"object","title":"Body_api_create_project_api_editor_projects_post"},"Body_api_import_loop_video_api_editor_projects__pid__import_loop_video_post":{"properties":{"folder":{"type":"string","title":"Folder"},"filename":{"type":"string","title":"Filename"},"add_to_timeline":{"type":"boolean","title":"Add To Timeline","default":true}},"type":"object","required":["folder","filename"],"title":"Body_api_import_loop_video_api_editor_projects__pid__import_loop_video_post"},"Body_api_import_overlay_to_project_api_overlays__overlay_id__import__pid__post":{"properties":{"start":{"type":"number","title":"Start","default":0.0},"duration":{"type":"number","title":"Duration","default":0.0},"opacity":{"type":"number","title":"Opacity","default":1.0},"blend_mode":{"type":"string","title":"Blend Mode","default":"normal"}},"type":"object","title":"Body_api_import_overlay_to_project_api_overlays__overlay_id__import__pid__post"},"Body_api_render_loop_api_editor_projects__pid__render_loop_post":{"properties":{"asset_id":{"type":"string","title":"Asset Id"},"loop_count":{"type":"integer","title":"Loop Count","default":3},"duration":{"type":"number","title":"Duration","default":0},"effects":{"type":"string","title":"Effects","default":"[]"},"width":{"type":"integer","title":"Width","default":1920},"height":{"type":"integer","title":"Height","default":1080}},"type":"object","required":["asset_id"],"title":"Body_api_render_loop_api_editor_projects__pid__render_loop_post"},"Body_api_upload_asset_api_editor_projects__pid__assets_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_api_upload_asset_api_editor_projects__pid__assets_post"},"Body_import_project_api_jobs__job_id__project_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_import_project_api_jobs__job_id__project_import_post"},"Body_ref_correct_upload_api_ai_chat__job_id__refcorrect_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"apply":{"type":"boolean","title":"Apply","default":false}},"type":"object","required":["file"],"title":"Body_ref_correct_upload_api_ai_chat__job_id__refcorrect_upload_post"},"Body_render_video_endpoint_api_render_video_post":{"properties":{"background_file":{"type":"string","format":"binary","title":"Background File"},"audio_file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Audio File"},"subtitle_file":{"anyOf":[{"type":"string","format":"binary"},{"type":"null"}],"title":"Subtitle File"},"source_job_id":{"type":"string","title":"Source Job Id","default":""},"options":{"type":"string","title":"Options","default":"{}"}},"type":"object","required":["background_file"],"title":"Body_render_video_endpoint_api_render_video_post"},"Body_start_separation_api_separation_start_post":{"properties":{"filename":{"type":"string","title":"Filename"},"model":{"type":"string","title":"Model","default":"htdemucs"},"device":{"type":"string","title":"Device","default":"cpu"},"stems":{"type":"string","title":"Stems","default":"vocals"},"shifts":{"type":"integer","title":"Shifts","default":1},"overlap":{"type":"number","title":"Overlap","default":0.25},"mp3":{"type":"boolean","title":"Mp3","default":false},"mp3_bitrate":{"type":"integer","title":"Mp3 Bitrate","default":320}},"type":"object","required":["filename"],"title":"Body_start_separation_api_separation_start_post"},"Body_transcribe_with_upload_api_transcribe_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_transcribe_with_upload_api_transcribe_upload_post"},"Body_upload_file_api_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_file_api_upload_post"},"ChatRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"},"command":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Command"},"target_language":{"type":"string","title":"Target Language","default":"English"}},"type":"object","required":["prompt"],"title":"ChatRequest"},"DictionaryEntry":{"properties":{"wrong":{"type":"string","title":"Wrong"},"correct":{"type":"string","title":"Correct"}},"type":"object","required":["wrong","correct"],"title":"DictionaryEntry"},"ExportFormatEnum":{"type":"string","enum":["srt","ass","vtt","lrc","txt"],"title":"ExportFormatEnum"},"ExportRequest":{"properties":{"karaoke_mode":{"$ref":"#/components/schemas/KaraokeModeEnum","default":"kf"},"preset":{"$ref":"#/components/schemas/PresetEnum","default":"classic"},"highlight_color":{"type":"string","title":"Highlight Color","default":"&H0000FFFF"},"safe_area":{"type":"string","title":"Safe Area","default":""},"approx_karaoke":{"type":"boolean","title":"Approx Karaoke","default":true},"formats":{"items":{"$ref":"#/components/schemas/ExportFormatEnum"},"type":"array","title":"Formats","default":["srt","ass"]}},"type":"object","title":"ExportRequest"},"GapOverlap":{"properties":{"type":{"type":"string","title":"Type"},"index_a":{"type":"integer","title":"Index A"},"index_b":{"type":"integer","title":"Index B"},"start":{"type":"number","title":"Start"},"end":{"type":"number","title":"End"},"duration_ms":{"type":"number","title":"Duration Ms"}},"type":"object","required":["type","index_a","index_b","start","end","duration_ms"],"title":"GapOverlap"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","default":"ok"},"version":{"type":"string","title":"Version","default":"3.2.0"},"ffmpeg":{"type":"boolean","title":"Ffmpeg","default":false},"backends":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Backends","default":{}}},"type":"object","title":"HealthResponse"},"JobInfo":{"properties":{"job_id":{"type":"string","title":"Job Id"},"filename":{"type":"string","title":"Filename"},"status":{"$ref":"#/components/schemas/JobStatus"},"progress":{"type":"number","title":"Progress","default":0.0},"stage":{"type":"string","title":"Stage","default":""},"created_at":{"type":"string","format":"date-time","title":"Created At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"result":{"anyOf":[{"$ref":"#/components/schemas/JobResult"},{"type":"null"}]}},"type":"object","required":["job_id","filename","status","created_at"],"title":"JobInfo"},"JobResult":{"properties":{"srt_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt File"},"ass_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ass File"},"vtt_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vtt File"},"lrc_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lrc File"},"txt_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Txt File"},"preview_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preview File"},"report_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Report File"},"segments_count":{"type":"integer","title":"Segments Count","default":0},"duration_sec":{"type":"number","title":"Duration Sec","default":0.0},"needs_review":{"type":"integer","title":"Needs Review","default":0},"backend":{"type":"string","title":"Backend","default":""},"language":{"type":"string","title":"Language","default":""},"word_timestamps_available":{"type":"boolean","title":"Word Timestamps Available","default":false}},"type":"object","title":"JobResult"},"JobStats":{"properties":{"total_segments":{"type":"integer","title":"Total Segments","default":0},"total_words":{"type":"integer","title":"Total Words","default":0},"total_chars":{"type":"integer","title":"Total Chars","default":0},"duration_sec":{"type":"number","title":"Duration Sec","default":0.0},"avg_cps":{"type":"number","title":"Avg Cps","default":0.0},"max_cps":{"type":"number","title":"Max Cps","default":0.0},"min_cps":{"type":"number","title":"Min Cps","default":0.0},"cps_distribution":{"items":{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"object"},"type":"array","title":"Cps Distribution","default":[]},"avg_segment_duration":{"type":"number","title":"Avg Segment Duration","default":0.0},"avg_confidence":{"type":"number","title":"Avg Confidence","default":0.0},"segments_with_words":{"type":"integer","title":"Segments With Words","default":0},"segments_needing_review":{"type":"integer","title":"Segments Needing Review","default":0},"gaps":{"type":"integer","title":"Gaps","default":0},"overlaps":{"type":"integer","title":"Overlaps","default":0},"pinned":{"type":"integer","title":"Pinned","default":0},"bpm":{"type":"number","title":"Bpm","default":0.0},"processing":{"additionalProperties":{"anyOf":[{"type":"boolean"},{"type":"number"}]},"type":"object","title":"Processing","default":{}}},"type":"object","title":"JobStats"},"JobStatus":{"type":"string","enum":["pending","queued","preprocessing","transcribing","refining","exporting","rendering_preview","completed","failed","cancelled"],"title":"JobStatus"},"KaraokeModeEnum":{"type":"string","enum":["k","kf","ko"],"title":"KaraokeModeEnum"},"LanguageEnum":{"type":"string","enum":["auto","de","en","fr","es","it","pt","ja","ko","zh"],"title":"LanguageEnum"},"LibraryDetail":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"title":{"type":"string","title":"Title"},"source_filename":{"type":"string","title":"Source Filename"},"language":{"type":"string","title":"Language"},"backend":{"type":"string","title":"Backend"},"duration_sec":{"type":"number","title":"Duration Sec"},"bpm":{"type":"number","title":"Bpm"},"segments_count":{"type":"integer","title":"Segments Count"},"has_word_timestamps":{"type":"boolean","title":"Has Word Timestamps"},"needs_review":{"type":"integer","title":"Needs Review"},"avg_confidence":{"type":"number","title":"Avg Confidence"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"srt_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Srt Text"},"ass_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ass Text"},"segments_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Segments Json"}},"type":"object","required":["id","created_at","updated_at","title","source_filename","language","backend","duration_sec","bpm","segments_count","has_word_timestamps","needs_review","avg_confidence","job_id","tags","srt_text","ass_text","segments_json"],"title":"LibraryDetail"},"LibraryItem":{"properties":{"id":{"type":"string","title":"Id"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"title":{"type":"string","title":"Title"},"source_filename":{"type":"string","title":"Source Filename"},"language":{"type":"string","title":"Language"},"backend":{"type":"string","title":"Backend"},"duration_sec":{"type":"number","title":"Duration Sec"},"bpm":{"type":"number","title":"Bpm"},"segments_count":{"type":"integer","title":"Segments Count"},"has_word_timestamps":{"type":"boolean","title":"Has Word Timestamps"},"needs_review":{"type":"integer","title":"Needs Review"},"avg_confidence":{"type":"number","title":"Avg Confidence"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["id","created_at","updated_at","title","source_filename","language","backend","duration_sec","bpm","segments_count","has_word_timestamps","needs_review","avg_confidence","job_id","tags"],"title":"LibraryItem"},"LibraryListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LibraryItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"LibraryListResponse"},"LibraryUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"bpm":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Bpm"}},"type":"object","title":"LibraryUpdateRequest"},"LyricsModeEnum":{"type":"string","enum":["line_per_event","merge_by_empty_lines"],"title":"LyricsModeEnum"},"LyricsTemplateModeEnum":{"type":"string","enum":["lyrics_source_of_truth","layout_only_reflow","hybrid_mark_differences"],"title":"LyricsTemplateModeEnum"},"MatchModeEnum":{"type":"string","enum":["strict","lenient"],"title":"MatchModeEnum"},"MergeRequest":{"properties":{"dry_run":{"type":"boolean","title":"Dry Run","default":true},"gap_threshold_ms":{"type":"integer","title":"Gap Threshold Ms","default":150},"cps_limit":{"type":"number","title":"Cps Limit","default":18.0},"min_words":{"type":"integer","title":"Min Words","default":3}},"type":"object","title":"MergeRequest"},"PresetEnum":{"type":"string","enum":["classic","neon","high_contrast","landscape_1080p","portrait_1080x1920","mobile_safe"],"title":"PresetEnum"},"RefCorrectRequest":{"properties":{"reference_text":{"type":"string","title":"Reference Text"},"filename":{"type":"string","title":"Filename","default":"inline"},"apply":{"type":"boolean","title":"Apply","default":false}},"type":"object","required":["reference_text"],"title":"RefCorrectRequest"},"RefineRequest":{"properties":{"cps":{"type":"number","title":"Cps","default":18.0},"min_duration":{"type":"number","title":"Min Duration","default":1.0},"max_duration":{"type":"number","title":"Max Duration","default":6.0},"max_chars_per_line":{"type":"integer","title":"Max Chars Per Line","default":42},"max_lines":{"type":"integer","title":"Max Lines","default":2},"snap_to_beat":{"type":"boolean","title":"Snap To Beat","default":false},"bpm":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bpm"}},"type":"object","title":"RefineRequest"},"RenderJobResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["job_id","status"],"title":"RenderJobResponse"},"SearchReplace":{"properties":{"search":{"type":"string","title":"Search"},"replace":{"type":"string","title":"Replace"},"case_sensitive":{"type":"boolean","title":"Case Sensitive","default":false},"regex":{"type":"boolean","title":"Regex","default":false}},"type":"object","required":["search","replace"],"title":"SearchReplace"},"SegmentMerge":{"properties":{"index_a":{"type":"integer","title":"Index A"},"index_b":{"type":"integer","title":"Index B"}},"type":"object","required":["index_a","index_b"],"title":"SegmentMerge"},"SegmentReorder":{"properties":{"old_index":{"type":"integer","title":"Old Index"},"new_index":{"type":"integer","title":"New Index"}},"type":"object","required":["old_index","new_index"],"title":"SegmentReorder"},"SegmentSplit":{"properties":{"index":{"type":"integer","title":"Index"},"split_at":{"type":"number","title":"Split At"}},"type":"object","required":["index","split_at"],"title":"SegmentSplit"},"SegmentUpdate":{"properties":{"index":{"type":"integer","title":"Index"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"start":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Start"},"end":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"End"},"speaker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Speaker"},"pinned":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Pinned"}},"type":"object","required":["index"],"title":"SegmentUpdate"},"TimeShift":{"properties":{"offset_ms":{"type":"number","title":"Offset Ms"},"range_start":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Range Start"},"range_end":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Range End"}},"type":"object","required":["offset_ms"],"title":"TimeShift"},"TranscribeRequest":{"properties":{"backend":{"$ref":"#/components/schemas/BackendEnum","default":"voxtral"},"language":{"$ref":"#/components/schemas/LanguageEnum","default":"auto"},"vad":{"type":"boolean","title":"Vad","default":true},"vad_aggressiveness":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Vad Aggressiveness","default":2},"normalize":{"type":"boolean","title":"Normalize","default":true},"target_lufs":{"type":"number","title":"Target Lufs","default":-16.0},"vocal_isolation":{"type":"boolean","title":"Vocal Isolation","default":false},"vocal_device":{"type":"string","title":"Vocal Device","default":"cpu"},"word_timestamps":{"type":"string","title":"Word Timestamps","default":"auto"},"generate_ass":{"type":"boolean","title":"Generate Ass","default":true},"generate_vtt":{"type":"boolean","title":"Generate Vtt","default":false},"generate_lrc":{"type":"boolean","title":"Generate Lrc","default":false},"generate_txt":{"type":"boolean","title":"Generate Txt","default":false},"karaoke_mode":{"$ref":"#/components/schemas/KaraokeModeEnum","default":"kf"},"preset":{"$ref":"#/components/schemas/PresetEnum","default":"classic"},"highlight_color":{"type":"string","title":"Highlight Color","default":"&H0000FFFF"},"safe_area":{"type":"string","title":"Safe Area","default":""},"snap_to_beat":{"type":"boolean","title":"Snap To Beat","default":false},"bpm":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bpm"},"ai_correct":{"type":"boolean","title":"Ai Correct","default":false},"cps":{"type":"number","title":"Cps","default":18.0},"min_duration":{"type":"number","title":"Min Duration","default":1.0},"max_duration":{"type":"number","title":"Max Duration","default":6.0},"max_chars_per_line":{"type":"integer","title":"Max Chars Per Line","default":42},"max_lines":{"type":"integer","title":"Max Lines","default":2},"generate_preview":{"type":"boolean","title":"Generate Preview","default":false},"preview_duration":{"type":"string","title":"Preview Duration","default":"15s"},"preview_start":{"type":"string","title":"Preview Start","default":"0s"},"preview_resolution":{"type":"string","title":"Preview Resolution","default":"1920x1080"},"whisperx_model_size":{"type":"string","title":"Whisperx Model Size","default":"large-v3"},"lyrics_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lyrics File"},"use_lyrics_template":{"type":"boolean","title":"Use Lyrics Template","default":false},"lyrics_template_mode":{"$ref":"#/components/schemas/LyricsTemplateModeEnum","default":"lyrics_source_of_truth"},"lyrics_mode":{"$ref":"#/components/schemas/LyricsModeEnum","default":"line_per_event"},"match_mode":{"$ref":"#/components/schemas/MatchModeEnum","default":"lenient"},"preserve_empty_lines":{"type":"boolean","title":"Preserve Empty Lines","default":false},"approx_karaoke":{"$ref":"#/components/schemas/ApproxKaraokeEnum","default":"auto"},"whisperx_compute_type":{"type":"string","title":"Whisperx Compute Type","default":"float16"},"whisperx_batch_size":{"type":"integer","title":"Whisperx Batch Size","default":16}},"type":"object","title":"TranscribeRequest"},"TranslateRequest":{"properties":{"target_language":{"type":"string","title":"Target Language","default":"en"}},"type":"object","title":"TranslateRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}